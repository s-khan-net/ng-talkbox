<div class="row">
    <div class="col-md-2">
        <div class="row">
            <div class="col-sm-12 conv-type" *ngFor="let type of convTypes" title="{{type.desc}}">
                {{type.abbr}} - {{type.name}} <span></span>
            </div>
        </div>
    </div>
    <div class="col-md-10">
        <div class="conv-box">
            <div class="conv-item" *ngFor="let item of conv">
                <span class="bi bi-gear-wide-connected btn-round" title="Edit" (click)="editConvItem(item)"></span>
                <div *ngIf="item.type == 'option'">
                    <table style="width:84%">
                        <tbody>
                            <tr>
                                <td rowspan="3" class="item-abbr-td">
                                    <div class="item-text">id: {{item.id}}</div>
                                    <div class="btn-round item-abbr" title="options">O</div>
                                </td>
                                <td class="text-center">{{item.text}}</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="option-button" *ngFor="let option of item.options">{{option.text}}</div>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding-top:0.5em;padding-left:0.5em;text-align:left">
                                    <table style="width:100%">
                                        <tr *ngFor="let option of item.options">
                                            <td style="width:30%">
                                                <div class="option-button" *ngIf="option.text.length <= 5">
                                                    {{option.text}}</div>
                                                <div class="option-button" *ngIf="option.text.length > 5">
                                                    {{option.text.substring(0,4)}}...</div>
                                                <span style="float:right">â†’</span>
                                            </td>
                                            <td style="vertical-align:middle">
                                                <ng-container
                                                    *ngFor="let item of (conv | convDisplay: option.linkedQuestion)">
                                                    <div class="row" *ngIf="item">
                                                        <div class="col-md-2">
                                                            <div class="btn-round item-abbr"
                                                                title="{{(item | convTypeAbbr).desc}}">
                                                                {{(item | convTypeAbbr).abbr}}
                                                            </div>
                                                        </div>
                                                        <div class="col-md-10">
                                                            {{item.text}}
                                                        </div>
                                                    </div>
                                                    <div class="row" *ngIf="!item">
                                                        create
                                                    </div>
                                                </ng-container>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div *ngIf="item.type == 'text' && item.responseValidation == null">
                    <table style="width:84%">
                        <tr>
                            <td rowspan="2" class="item-abbr-td">
                                <div class="item-text">id: {{item.id}}</div>
                                <div class="btn-round item-abbr" title="options">T</div>
                            </td>
                            <td>
                                <div class="text-center">{{item.text}}</div>
                            </td>
                        </tr>
                    </table>
                </div>
                <div *ngIf="item.type == 'text' && item.responseValidation == 'email'">
                    <div class="btn-round item-abbr" title="options">E</div>
                    <div class="item-text">{{item.text}}</div>
                </div>
                <div *ngIf="item.type == 'text' && item.responseValidation == 'number'">
                    <div class="btn-round item-abbr" title="options">N</div>
                    <div class="item-text">{{item.text}}</div>
                </div>
                <div *ngIf="item.type == 'multi'">
                    <div class="btn-round item-abbr" title="options">C</div>
                    <div class="item-text">{{item.text}}</div>
                    <div class="option-button" *ngFor="let option of item.options">{{option.text}}</div>
                </div>
                <div *ngIf="item.type == 'rating'">
                    <div class="btn-round item-abbr" title="options">R</div>
                    <div class="item-text">{{item.text}}</div>
                    <div class="option-button" *ngFor="let option of item.options">{{option}}</div>
                </div>
            </div>
        </div>
    </div>
</div>